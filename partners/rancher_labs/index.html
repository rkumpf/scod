<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
    
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Hewlett Packard Enterprise">
  <link rel="shortcut icon" href="../../img/favicon.ico">
    <meta property="og:title" content="HPE Storage Container Orchestrator Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Kubernetes and Docker integrations for HPE primary storage tailored for IT Ops, developers and partners. Including HPE 3PAR and Primera, HPE Cloud Volumes and HPE Nimble Storage."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://scod.hpedev.io"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://scod.hpedev.io/img/hpe-social-og-image01.jpg"/>
    <meta property="og:image:width" content="1200"/>
    <meta property="og:image:height" content="630"/>
    
  <title>Rancher Labs - HPE Storage Container Orchestrator Documentation</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  <link href="../../css/hpedev.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Rancher Labs";
    var mkdocs_page_input_path = "partners/rancher_labs/index.md";
    var mkdocs_page_url = "/partners/rancher_labs/index.html";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-79554149-3', 'auto');
      ga('send', 'pageview');
  </script>
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> HPE Storage Container Orchestrator Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <span class="caption-text">WELCOME</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../welcome/index.html">Get started!</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">HPE CSI DRIVER FOR KUBERNETES</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../csi_driver/index.html">Overview</a>
                </li>
                <li class="">
                    
    <a class="" href="../../csi_driver/deployment.html">Deployment</a>
                </li>
                <li class="">
                    
    <a class="" href="../../csi_driver/using.html">Using</a>
                </li>
                <li class="">
                    
    <a class="" href="../../csi_driver/monitor.html">Pod Monitor</a>
                </li>
                <li class="">
                    
    <a class="" href="../../csi_driver/diagnostics.html">Diagnostics</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">CONTAINER STORAGE PROVIDERS</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../container_storage_provider/hpe_3par_primera/index.html">HPE 3PAR and Primera</a>
                </li>
                <li class="">
                    
    <a class="" href="../../container_storage_provider/hpe_nimble_storage/index.html">HPE Nimble Storage</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">LEGACY FLEXVOLUME DRIVER</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../flexvolume_driver/container_provider/index.html">Container Provider: Nimble and CV</a>
                </li>
                <li class="">
                    
    <a class="" href="../../flexvolume_driver/hpe_3par_primera_installer/index.html">Ansible installer for 3PAR/Primera</a>
                </li>
                <li class="">
                    
    <a class="" href="../../flexvolume_driver/dory/index.html">History: Dory and Doryd </a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">DOCKER VOLUME PLUGINS</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../docker_volume_plugins/hpe_cloud_volumes/index.html">HPE Cloud Volumes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../docker_volume_plugins/hpe_nimble_storage/index.html">HPE Nimble Storage</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">PARTNER ECOSYSTEMS</span>
    <ul class="subnav">
                <li class=" current">
                    
    <a class="current" href="index.html">Rancher Labs</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#overview">Overview</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#deployment_considerations">Deployment considerations</a></li>
        
            <li><a class="toctree-l4" href="#rancher_24">Rancher 2.4</a></li>
        
        </ul>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../redhat_openshift/index.html">Red Hat OpenShift</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">LEARN</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../learn/containers101/index.html">Cloud-Native, Containers & DevOps</a>
                </li>
                <li class="">
                    
    <a class="" href="../../learn/persistent_storage/index.html">Persistent Storage for Kubernetes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../learn/introduction_to_containers/index.html">For HPE partners:<br />&nbsp;&nbsp; Introduction to Containers</a>
                </li>
                <li class="">
                    
    <a class="" href="../../learn/video_gallery/index.html">Video Gallery</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">COMMUNITY</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="https://developer.hpe.com">HPE Developer Community</a>
                </li>
                <li class="">
                    
    <a class="" href="https://slack.hpedev.io">Sign up to HPE DEV on Slack</a>
                </li>
                <li class="">
                    
    <a class="" href="https://github.com/hpe-storage/scod/issues/new?title=I have some feedback on SCOD">Got feedback?</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">EXTERNAL LINKS</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="https://github.com/hpe-storage/scod">SCOD on GitHub</a>
                </li>
                <li class="">
                    
    <a class="" href="https://github.com/hpe-storage">HPE Storage on GitHub</a>
                </li>
                <li class="">
                    
    <a class="" href="https://hpe.com/storage/containers">Storage for Containers on hpe.com</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">LEGAL</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../legal/contributing/index.html">Contributing</a>
                </li>
                <li class="">
                    
    <a class="" href="../../legal/support/index.html">Support</a>
                </li>
                <li class="">
                    
    <a class="" href="../../legal/license/index.html">License</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">HPE Storage Container Orchestrator Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>PARTNER ECOSYSTEMS &raquo;</li>
        
      
    
    <li>Rancher Labs</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h1>
<p>Rancher Labs provides a platform to deploy Kubernetes-as-a-service everywhere. HPE partners with Rancher Labs to provide effortless management of the CSI and FlexVolume driver on managed Kubernetes clusters. This allows our joint customers and channel partners to enable hybrid cloud stateful workloads on Kubernetes.</p>
<div class="toc">
<ul>
<li><a href="#overview">Overview</a><ul>
<li><a href="#deployment_considerations">Deployment considerations</a></li>
<li><a href="#rancher_24">Rancher 2.4</a><ul>
<li><a href="#hpe_csi_driver_for_kubernetes">HPE CSI Driver for Kubernetes</a><ul>
<li><a href="#rancher_cli_install">Rancher CLI install</a></li>
<li><a href="#web_ui_install">Web UI install</a></li>
<li><a href="#post_install_steps">Post install steps</a></li>
</ul>
</li>
<li><a href="#hpe_volume_driver_for_kubernetes_flexvolume_plugin">HPE Volume Driver for Kubernetes FlexVolume plugin</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<h2 id="deployment_considerations">Deployment considerations<a class="headerlink" href="#deployment_considerations" title="Permanent link">&para;</a></h2>
<p>Rancher is capable of managing Kubernetes across a broad spectrum of managed and BYO clusters. It's important to understand that the HPE CSI Driver for Kubernetes does not support the same amount of combinations Rancher does. Consult the support matrix on <a href="../../csi_driver/index.html#compatibility_and_support">the CSI driver overview page</a> for the supported combinations of the HPE CSI Driver, Kubernetes and supported node Operating Systems.</p>
<h2 id="rancher_24">Rancher 2.4<a class="headerlink" href="#rancher_24" title="Permanent link">&para;</a></h2>
<p>Rancher uses Helm to deploy and manage partner software. The concept of a Helm repository in Rancher is organized as a "catalog". The HPE CSI Driver for Kubernetes and the HPE Volume Driver for Kubernetes FlexVolume plugin are both partner solutions present in the official Rancher Catalog.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Learn more about Catalogs, Helm Charts and Apps in the <a href="https://rancher.com/docs/rancher/v2.x/en/catalog/">Rancher documentation</a>.</p>
</div>
<h3 id="hpe_csi_driver_for_kubernetes">HPE CSI Driver for Kubernetes<a class="headerlink" href="#hpe_csi_driver_for_kubernetes" title="Permanent link">&para;</a></h3>
<p>The HPE CSI Driver is part of the official Helm v3 library in Rancher. The CSI driver is deployed on managed Kubernetes clusters like any ordinary "App" in Rancher. You may use either the <a href="https://rancher.com/docs/rancher/v2.x/en/cli/">Rancher CLI</a> or the web UI to deploy the CSI driver.</p>
<h4 id="rancher_cli_install">Rancher CLI install<a class="headerlink" href="#rancher_cli_install" title="Permanent link">&para;</a></h4>
<p>Switch to the project you want to install the CSI driver. For this example, the default project on a managed cluster is being used.</p>
<p> <pre><code class=markdown>$ rancher context current
Cluster:torta Project:Default
</code></pre></p>
<p>Steps to install the CSI driver.</p>
<p> <pre><code class=markdown>$ rancher app install hpe-csi-driver hpe-csi-driver --no-prompt
run &quot;app show-notes hpe-csi-driver&quot; to view app notes once app is ready
$ rancher app
ID                       NAME             STATE     CATALOG         TEMPLATE         VERSION
p-k28xd:hpe-csi-driver   hpe-csi-driver   active    helm3-library   hpe-csi-driver   1.3.1
</code></pre></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is installs the driver with the default parameters which is the most common deployment option. Please see the official Helm chart <a href="https://artifacthub.io/packages/helm/hpe-storage/hpe-csi-driver">documentation</a> for supported parameters.</p>
</div>
<h4 id="web_ui_install">Web UI install<a class="headerlink" href="#web_ui_install" title="Permanent link">&para;</a></h4>
<p>The web UI install is straight forward. Illustrated here for completeness.</p>
<p><img alt="Step 1" src="img/rke24-ui/step1.png" />
<em>Login to RKE and click the cluster tab</em></p>
<p><img alt="Step 2" src="img/rke24-ui/step2.png" />
<em>Select which managed cluster and project the driver should be installed to</em></p>
<p><img alt="Step 3" src="img/rke24-ui/step3.png" />
<em>Select "Apps"</em></p>
<p><img alt="Step 4" src="img/rke24-ui/step4.png" />
<em>Select "Launch"</em></p>
<p><img alt="Step 5" src="img/rke24-ui/step5.png" />
<em>Pick "hpe-csi-driver"</em></p>
<p><img alt="Step 6" src="img/rke24-ui/step6.png" />
<em>Scroll past the manifest unless any parameters needs changing, hit "Launch"</em></p>
<p><img alt="Step 7" src="img/rke24-ui/step7.png" />
<em>After a few moments the driver should be installed. The number of workloads depends on the cluster node count.</em></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is installs the driver with the default parameters which is the most common deployment option. Please see the official Helm chart <a href="https://artifacthub.io/packages/helm/hpe-storage/hpe-csi-driver">documentation</a> for supported parameters.</p>
</div>
<h4 id="post_install_steps">Post install steps<a class="headerlink" href="#post_install_steps" title="Permanent link">&para;</a></h4>
<p>For Rancher Apps to make use of persistent storage from HPE, a supported backend needs to be configured. This procedure is generic regardless of Kubernetes distribution being used.</p>
<ul>
<li>Go ahead and <a href="../../csi_driver/deployment.html#add_a_hpe_storage_backend">add a HPE storage backend</a></li>
</ul>
<h3 id="hpe_volume_driver_for_kubernetes_flexvolume_plugin">HPE Volume Driver for Kubernetes FlexVolume plugin<a class="headerlink" href="#hpe_volume_driver_for_kubernetes_flexvolume_plugin" title="Permanent link">&para;</a></h3>
<p>Only use the FlexVolume driver for Kubernetes 1.12 and below or with HPE Cloud Volumes up to Kubernetes 1.17. The FlexVolume driver is provided as a Helm v2 chart in the official Rancher Catalog. Parameters are very specific to the environment to where the driver is being installed to. Please follow the steps in the FlexVolume Helm chart <a href="https://artifacthub.io/packages/helm/hpe-storage/hpe-flexvolume-driver">documentation</a> for further guidance. Also understand that the FlexVolume driver only supports HPE Nimble Storage and HPE Cloud Volumes.</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>The FlexVolume driver is being deprecated. Reach out to your HPE representative if you think deploying the FlexVolume driver on your Rancher managed Kubernetes cluster is the correct course of action.</p>
</div>
              
            </div>
          </div>

<footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../redhat_openshift/index.html" class="btn btn-neutral float-right" title="Red Hat OpenShift">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../../docker_volume_plugins/hpe_nimble_storage/index.html" class="btn btn-neutral" title="HPE Nimble Storage"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2020 Hewlett Packard Enterprise Development LP<br />Give <a href="https://github.com/hpe-storage/scod/issues/new?title=partners/rancher_labs/index.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../../docker_volume_plugins/hpe_nimble_storage/index.html" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../redhat_openshift/index.html" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>

</body>
</html>
