<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
    
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Hewlett Packard Enterprise">
  <link rel="shortcut icon" href="../img/favicon.ico">
    <meta property="og:title" content="HPE Storage Container Orchestrator Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Kubernetes and Docker integrations for HPE primary storage tailored for IT Ops, developers and partners. Including HPE 3PAR and Primera, HPE Cloud Volumes and HPE Nimble Storage."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://scod.hpedev.io"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://scod.hpedev.io/img/hpe-social-og-image01.jpg"/>
    <meta property="og:image:width" content="1200"/>
    <meta property="og:image:height" content="630"/>
    
  <title>Overview - HPE Storage Container Orchestrator Documentation</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  <link href="../css/hpedev.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Overview";
    var mkdocs_page_input_path = "csi_driver/index.md";
    var mkdocs_page_url = "/csi_driver/index.html";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-79554149-3', 'auto');
      ga('send', 'pageview');
  </script>
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> HPE Storage Container Orchestrator Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <span class="caption-text">WELCOME</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../welcome/index.html">Get started!</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">HPE CSI DRIVER FOR KUBERNETES</span>
    <ul class="subnav">
                <li class=" current">
                    
    <a class="current" href="index.html">Overview</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#introduction">Introduction</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#table_of_contents">Table of Contents</a></li>
        
            <li><a class="toctree-l4" href="#features_and_capabilities">Features and capabilities</a></li>
        
            <li><a class="toctree-l4" href="#compatibility_and_support">Compatibility and support</a></li>
        
            <li><a class="toctree-l4" href="#known_limitations">Known limitations</a></li>
        
            <li><a class="toctree-l4" href="#iscsi_chap_considerations">iSCSI CHAP considerations</a></li>
        
            <li><a class="toctree-l4" href="#kubernetes_feature_gates">Kubernetes feature gates</a></li>
        
        </ul>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="deployment.html">Deployment</a>
                </li>
                <li class="">
                    
    <a class="" href="using.html">Using</a>
                </li>
                <li class="">
                    
    <a class="" href="monitor.html">Pod Monitor</a>
                </li>
                <li class="">
                    
    <a class="" href="diagnostics.html">Diagnostics</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">CONTAINER STORAGE PROVIDERS</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../container_storage_provider/hpe_3par_primera/index.html">HPE 3PAR and Primera</a>
                </li>
                <li class="">
                    
    <a class="" href="../container_storage_provider/hpe_nimble_storage/index.html">HPE Nimble Storage</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">LEGACY FLEXVOLUME DRIVER</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../flexvolume_driver/container_provider/index.html">Container Provider: Nimble and CV</a>
                </li>
                <li class="">
                    
    <a class="" href="../flexvolume_driver/hpe_3par_primera_installer/index.html">Ansible installer for 3PAR/Primera</a>
                </li>
                <li class="">
                    
    <a class="" href="../flexvolume_driver/dory/index.html">History: Dory and Doryd </a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">DOCKER VOLUME PLUGINS</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../docker_volume_plugins/hpe_cloud_volumes/index.html">HPE Cloud Volumes</a>
                </li>
                <li class="">
                    
    <a class="" href="../docker_volume_plugins/hpe_nimble_storage/index.html">HPE Nimble Storage</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">PARTNER ECOSYSTEMS</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../partners/rancher_labs/index.html">Rancher Labs</a>
                </li>
                <li class="">
                    
    <a class="" href="../partners/redhat_openshift/index.html">Red Hat OpenShift</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">LEARN</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../learn/containers101/index.html">Cloud-Native, Containers & DevOps</a>
                </li>
                <li class="">
                    
    <a class="" href="../learn/persistent_storage/index.html">Persistent Storage for Kubernetes</a>
                </li>
                <li class="">
                    
    <a class="" href="../learn/introduction_to_containers/index.html">For HPE partners:<br />&nbsp;&nbsp; Introduction to Containers</a>
                </li>
                <li class="">
                    
    <a class="" href="../learn/video_gallery/index.html">Video Gallery</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">COMMUNITY</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="https://developer.hpe.com">HPE Developer Community</a>
                </li>
                <li class="">
                    
    <a class="" href="https://slack.hpedev.io">Sign up to HPE DEV on Slack</a>
                </li>
                <li class="">
                    
    <a class="" href="https://github.com/hpe-storage/scod/issues/new?title=I have some feedback on SCOD">Got feedback?</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">EXTERNAL LINKS</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="https://github.com/hpe-storage/scod">SCOD on GitHub</a>
                </li>
                <li class="">
                    
    <a class="" href="https://github.com/hpe-storage">HPE Storage on GitHub</a>
                </li>
                <li class="">
                    
    <a class="" href="https://hpe.com/storage/containers">Storage for Containers on hpe.com</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">LEGAL</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../legal/contributing/index.html">Contributing</a>
                </li>
                <li class="">
                    
    <a class="" href="../legal/support/index.html">Support</a>
                </li>
                <li class="">
                    
    <a class="" href="../legal/license/index.html">License</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">HPE Storage Container Orchestrator Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>HPE CSI DRIVER FOR KUBERNETES &raquo;</li>
        
      
    
    <li>Overview</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h1>
<p>A Container Storage Interface (<a href="https://github.com/container-storage-interface/spec">CSI</a>) Driver for Kubernetes. The HPE CSI Driver for Kubernetes allows you to use a <a href="../container_storage_provider/index.html">Container Storage Provider</a> (CSP) to perform data management operations on storage resources. The architecture of the CSI driver allows block storage vendors to implement a CSP that follows the <a href="https://github.com/hpe-storage/container-storage-provider">specification</a> (a <a href="https://developer.hpe.com/api/hpe-nimble-csp/">browser friendly version</a>).</p>
<p>The CSI driver architecture allows a complete separation of concerns between upstream Kubernetes core, SIG Storage (CSI owners), CSI driver author (HPE) and the backend CSP developer.</p>
<p><img alt="HPE CSI Driver Architecture" src="img/csi_driver_architecture-1.3.0.png" /></p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The HPE CSI Driver for Kubernetes is vendor agnostic. Any entity may leverage the driver and provide their own Container Storage Provider.</p>
</div>
<h2 id="table_of_contents">Table of Contents<a class="headerlink" href="#table_of_contents" title="Permanent link">&para;</a></h2>
<div class="toc">
<ul>
<li><a href="#introduction">Introduction</a><ul>
<li><a href="#table_of_contents">Table of Contents</a></li>
<li><a href="#features_and_capabilities">Features and capabilities</a></li>
<li><a href="#compatibility_and_support">Compatibility and support</a><ul>
<li><a href="#hpe_csi_driver_for_kubernetes_130">HPE CSI Driver for Kubernetes 1.3.0</a></li>
<li><a href="#hpe_csi_driver_for_kubernetes_120">HPE CSI Driver for Kubernetes 1.2.0</a></li>
<li><a href="#hpe_csi_driver_for_kubernetes_111">HPE CSI Driver for Kubernetes 1.1.1</a></li>
<li><a href="#release_archive">Release archive</a></li>
</ul>
</li>
<li><a href="#known_limitations">Known limitations</a></li>
<li><a href="#iscsi_chap_considerations">iSCSI CHAP considerations</a><ul>
<li><a href="#csi_driver_121_and_below">CSI driver 1.2.1 and below</a></li>
<li><a href="#csi_driver_130_and_above">CSI driver 1.3.0 and above</a></li>
</ul>
</li>
<li><a href="#kubernetes_feature_gates">Kubernetes feature gates</a><ul>
<li><a href="#kubernetes_113">Kubernetes 1.13</a></li>
<li><a href="#kubernetes_114">Kubernetes 1.14</a></li>
<li><a href="#kubernetes_115">Kubernetes 1.15</a></li>
<li><a href="#kubernetes_119">Kubernetes 1.19</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<h2 id="features_and_capabilities">Features and capabilities<a class="headerlink" href="#features_and_capabilities" title="Permanent link">&para;</a></h2>
<p>CSI gradually mature features and capabilities in the specification at the pace of the community. HPE keep a close watch on differentiating features the primary storage family of products may be suitable for implementing in CSI and Kubernetes. HPE experiment early and often. That's why it's sometimes possible to observe a certain feature being available in the CSI driver although it hasn't been announced or isn't documented.</p>
<p>Below is the official table for CSI features we track and deem readily available for use after we've officially tested and validated it in the <a href="#compatibility_and_support">platform matrix</a>.</p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>K8s maturity</th>
<th>Since K8s version</th>
<th>HPE CSI Driver</th>
</tr>
</thead>
<tbody>
<tr>
<td>Dynamic Provisioning</td>
<td>GA</td>
<td>1.13</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Raw Block Volume</td>
<td>GA</td>
<td>1.18</td>
<td>1.2.0</td>
</tr>
<tr>
<td>Volume Expansion</td>
<td>Beta</td>
<td>1.16</td>
<td>1.1.0</td>
</tr>
<tr>
<td>PVC Data Source</td>
<td>GA</td>
<td>1.18</td>
<td>1.1.0</td>
</tr>
<tr>
<td>Inline Ephemeral Volumes</td>
<td>Beta</td>
<td>1.16</td>
<td>1.2.0</td>
</tr>
<tr>
<td>Volume Snapshots</td>
<td>Beta</td>
<td>1.17</td>
<td>1.1.0</td>
</tr>
<tr>
<td>Volume Limits</td>
<td>GA</td>
<td>1.17</td>
<td>1.2.0</td>
</tr>
<tr>
<td>Volume Mutator<sup>1</sup></td>
<td>N/A</td>
<td>N/A</td>
<td>1.3.0</td>
</tr>
<tr>
<td>Generic Ephemeral Volumes</td>
<td>Alpha</td>
<td>1.19</td>
<td>1.3.0</td>
</tr>
<tr>
<td>Topology</td>
<td>GA</td>
<td>1.17</td>
<td>Future</td>
</tr>
</tbody>
</table>
<p><small><sup>1</sup> = HPE CSI Driver for Kubernetes specific feature. CSP support may vary.</small></p>
<p>Depending on the CSP, it may support a number of different snapshotting, cloning and restoring operations by taking advantage of <code>StorageClass</code> parameter overloading. Please see the respective <a href="../container_storage_provider/index.html">CSP</a> for additional functionality.</p>
<p>Refer to the <a href="https://kubernetes.io/docs/reference/command-line-tools-reference/feature-gates/">official table</a> of feature gates in the Kubernetes docs to find availability of beta and alpha features. HPE provide limited support on non-GA CSI features. Please file any issues, questions or feature requests <a href="https://github.com/hpe-storage/csi-driver/issues">here</a>. You may also join our Slack community to chat with HPE folks close to this project. We hang out in <code>#NimbleStorage</code>, <code>#3par-primera</code> and <code>#Kubernetes</code>, sign up at <a href="https://slack.hpedev.io/">slack.hpedev.io</a> and login at <a href="https://hpedev.slack.com">hpedev.slack.com</a>.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Familiarize yourself with the basic requirements below for running the CSI driver on your Kubernetes cluster. It's then highly recommended to continue installing the CSI driver with either a <a href="deployment.html#helm">Helm chart</a> or an <a href="deployment.html#operator">Operator</a>.</p>
</div>
<h2 id="compatibility_and_support">Compatibility and support<a class="headerlink" href="#compatibility_and_support" title="Permanent link">&para;</a></h2>
<p>These are the combinations HPE has tested and can provide official support services around for each of the CSI driver releases. Each <a href="../container_storage_provider/index.html">Container Storage Provider</a> has it's own requirements in terms of storage platform OS and may have other constraints not listed here. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For Kubernetes 1.12 and earlier please see <a href="../flexvolume_driver/index.html">legacy FlexVolume drivers</a>.</p>
</div>
<h4 id="hpe_csi_driver_for_kubernetes_130">HPE CSI Driver for Kubernetes 1.3.0<a class="headerlink" href="#hpe_csi_driver_for_kubernetes_130" title="Permanent link">&para;</a></h4>
<p>Release highlights:</p>
<ul>
<li>Kubernetes CSI Sidecar: Volume Mutator</li>
<li>Broader ecosystem support</li>
<li>Native iSCSI CHAP configuration</li>
</ul>
<table>
  <tr>
    <th>Kubernetes</th>
    <td>1.15-1.18<sup>1</sup></td>
  </tr>
  <tr>
    <th>Worker OS</th>
    <td>CentOS 7.6, RHEL 7.6, RHCOS 4.3-4.4, Ubuntu 18.04, Ubuntu 20.04
  </tr>
  <tr>
    <th>Data protocol</th>
    <td>Fibre Channel, iSCSI </td>
  </tr>
  <tr>
    <th>Platforms</th>
    <td>
      NimbleOS 5.0.10.x, 5.1.4.200-x, 5.2.1.x, 5.3.0.x<br />
      3PAR OS 3.3.1<br/>
      Primera OS 4.0.0, 4.1.0, 4.2.0<sup>2</sup><br/>
    </td>
  <tr>
    <th>Release notes</th>
    <td><a href=https://github.com/hpe-storage/csi-driver/blob/master/release-notes/v1.3.0.md>v1.3.0</a> on GitHub</td>
  </tr>
  <tr>
   <th>Blogs</th>
   <td>
    <a href="https://community.hpe.com/t5/around-the-storage-block/hpe-csi-driver-for-kubernetes-1-3-0-now-available/ba-p/7099684">Around The Storage Block</a> (release)<br/>
    <a href="https://developer.hpe.com/blog/ppPAlQ807Ah8QGMNl1YE/tutorial-enabling-remote-copy-using-the-hpe-csi-driver-for-kubernetes-on">HPE DEV</a> (Remote copy peer persistence tutorial)<br/>
    <a href="https://developer.hpe.com/blog/8nlLVWP1RKFROlvZJDo9/introducing-kubernetes-csi-sidecar-containers-from-hpe">HPE DEV</a> (Introducing the volume mutator)<br/>
   </td>
</table>

<p><small>
 <sup>1</sup> = For HPE Ezmeral Container Platform and Rancher; Kubernetes clusters must be deployed within the currently supported range of "Worker OS" platforms listed in the above table. See <a href="../partners">partner ecosystems</a> for other variations.<br />
 <sup>2</sup> = Only FC is supported on Primera OS prior to 4.2.0.
</small></p>
<h4 id="hpe_csi_driver_for_kubernetes_120">HPE CSI Driver for Kubernetes 1.2.0<a class="headerlink" href="#hpe_csi_driver_for_kubernetes_120" title="Permanent link">&para;</a></h4>
<p>Release highlights: Support for raw block volumes and inline ephemeral volumes. NFS Server Provisioner in Tech Preview (beta).</p>
<table>
  <tr>
    <th>Kubernetes</th>
    <td>1.14-1.18</td>
  </tr>
  <tr>
    <th>Worker OS</th>
    <td>CentOS 7.6, RHEL 7.6, RHCOS 4.2-4.3, Ubuntu 16.04, Ubuntu 18.04
  </tr>
  <tr>
    <th>Data protocol</th>
    <td>Fibre Channel, iSCSI </td>
  </tr>
  <tr>
    <th>Platforms</th>
    <td>
      NimbleOS 5.0.10.x, 5.1.3.1000-x, 5.1.4.200-x, 5.2.1.x<br />
      3PAR OS 3.3.1<br/>
      Primera OS 4.0.0, 4.1.0 (FC only)<br/>
    </td>
  <tr>
    <th>Release notes</th>
    <td><a href=https://github.com/hpe-storage/csi-driver/blob/master/release-notes/v1.2.0.md>v1.2.0</a> on GitHub</td>
  </tr>
  <tr>
   <th>Blogs</th>
   <td><a href="https://community.hpe.com/t5/around-the-storage-block/hpe-csi-driver-for-kubernetes-1-2-0-available-now/ba-p/7091977">Around The Storage Block</a> (release)<br/>
       <a href="https://developer.hpe.com/blog/EE2QnZBXXwi4o7X0E4M0/using-raw-block-and-ephemeral-inline-volumes-on-kubernetes">HPE DEV</a> (tutorial for raw block and inline volumes)<br/>
       <a href="https://community.hpe.com/t5/around-the-storage-block/tech-preview-network-file-system-server-provisioner-for-hpe-csi/ba-p/7092948">Around The Storage Block</a> (NFS Server Provisioner)<br/>
       <a href="https://developer.hpe.com/blog/xABwJY56qEfNGMEo1lDj/introducing-a-nfs-server-provisioner-and-pod-monitor-for-the-hpe-csi-dri">HPE DEV</a> (tutorial for NFS)
   </td>
</table>

<h4 id="hpe_csi_driver_for_kubernetes_111">HPE CSI Driver for Kubernetes 1.1.1<a class="headerlink" href="#hpe_csi_driver_for_kubernetes_111" title="Permanent link">&para;</a></h4>
<p>Release highlights: Support for HPE 3PAR and Primera Container Storage Provider.</p>
<table>
  <tr>
    <th>Kubernetes</th>
    <td>1.13-1.17</td>
  </tr>
  <tr>
    <th>Worker OS</th>
    <td>CentOS 7.6, RHEL 7.6, RHCOS 4.2-4.3, Ubuntu 16.04, Ubuntu 18.04
  </tr>
  <tr>
    <th>Data protocol</th>
    <td>Fibre Channel, iSCSI </td>
  </tr>
  <tr>
    <th>Platforms</th>
    <td>
      NimbleOS 5.0.8.x, 5.1.3.x, 5.1.4.x<br/>
      3PAR OS 3.3.1<br/>
      Primera OS 4.0.0, 4.1.0 (FC only)<br/>
    </td>
  <tr>
    <th>Release notes</th>
    <td>N/A</td>
  </tr>
  <tr>
   <th>Blogs</th>
   <td><a href="https://community.hpe.com/t5/hpe-storage-tech-insiders/hpe-csi-driver-for-kubernetes-1-1-1-and-hpe-3par-and-hpe-primera/ba-p/7086675">HPE Storage Tech Insiders</a> (release), <a href="https://developer.hpe.com/blog/9o7zJkqlX5cErkrzgopL/tutorial-how-to-get-started-with-the-hpe-csi-driver-and-hpe-primera-and-">HPE DEV</a> (tutorial for "primera3par" CSP)
</table>

<h4 id="release_archive">Release archive<a class="headerlink" href="#release_archive" title="Permanent link">&para;</a></h4>
<p>HPE currently supports up to three minor releases of the HPE CSI Driver for Kubernetes.</p>
<ul>
<li><a href="archive.html">Unsupported releases</a></li>
</ul>
<h2 id="known_limitations">Known limitations<a class="headerlink" href="#known_limitations" title="Permanent link">&para;</a></h2>
<ul>
<li>Always check with the Kubernetes vendor distribution which CSI features are available for use and supported by the vendor.</li>
</ul>
<h2 id="iscsi_chap_considerations">iSCSI CHAP considerations<a class="headerlink" href="#iscsi_chap_considerations" title="Permanent link">&para;</a></h2>
<p>If iSCSI CHAP is being used in the environment, consider the following.</p>
<h3 id="csi_driver_121_and_below">CSI driver 1.2.1 and below<a class="headerlink" href="#csi_driver_121_and_below" title="Permanent link">&para;</a></h3>
<p>In version 1.2.1 and below, the CSI driver did not support CHAP natively. CHAP must be enabled manually on the worker nodes before deploying the CSI driver on the cluster. This also needs to be applied to new worker nodes before they join the cluster.</p>
<h3 id="csi_driver_130_and_above">CSI driver 1.3.0 and above<a class="headerlink" href="#csi_driver_130_and_above" title="Permanent link">&para;</a></h3>
<p>CHAP is now an optional part of the initial deployment of the driver with parameters passed to Helm or the Operator. For object definitions, the <code>CHAP_USER</code> and <code>CHAP_PASSWORD</code> needs to be supplied to the <code>csi-node-driver</code>. The CHAP username and secret is picked up in the <code>hpenodeinfo</code> Custom Resource Definition (CRD). The CSP is under contract to create the user if it doesn't exist on the backend.</p>
<p>CHAP is a good measure to prevent unauthorized access to iSCSI targets, it does not encrypt data on the wire. CHAP secrets should be at least twelve charcters in length.</p>
<h2 id="kubernetes_feature_gates">Kubernetes feature gates<a class="headerlink" href="#kubernetes_feature_gates" title="Permanent link">&para;</a></h2>
<p>Different features mature at different rates. Refer to the <a href="https://kubernetes.io/docs/reference/command-line-tools-reference/feature-gates/">official table</a> of feature gates in the Kubernetes docs.</p>
<p>The following guidelines appliy to which feature gates got introduced as alphas for the corresponding version of Kubernetes. For example, <code>ExpandCSIVolumes</code> got introduced in 1.14 but is still an alpha in 1.15, hence you need to enable that feature gate in 1.15 as well if you want to use it.</p>
<h3 id="kubernetes_113">Kubernetes 1.13<a class="headerlink" href="#kubernetes_113" title="Permanent link">&para;</a></h3>
<ul>
<li><code>--allow-privileged</code> flag must be set to true for the API server</li>
</ul>
<h3 id="kubernetes_114">Kubernetes 1.14<a class="headerlink" href="#kubernetes_114" title="Permanent link">&para;</a></h3>
<ul>
<li><code>--allow-privileged</code> flag must be set to true for the API server</li>
<li><code>--feature-gates=ExpandCSIVolumes=true,ExpandInUsePersistentVolumes=true</code> feature gate flags must be set to true for both the API server and kubelet for resize support</li>
</ul>
<h3 id="kubernetes_115">Kubernetes 1.15<a class="headerlink" href="#kubernetes_115" title="Permanent link">&para;</a></h3>
<ul>
<li><code>--allow-privileged</code> flag must be set to true for the API server</li>
<li><code>--feature-gates=ExpandCSIVolumes=true,ExpandInUsePersistentVolumes=true</code> feature gate flags must be set to true for both the API server and kubelet for resize support</li>
<li><code>--feature-gates=CSIInlineVolume=true</code> feature gate flag must be set to true for both the API server and kubelet for pod inline volumes (Ephemeral Local Volumes) support</li>
<li><code>--feature-gates=VolumePVCDataSource=true</code> feature gate flag must be set to true for both the API server and kubelet for Volume cloning support</li>
</ul>
<h3 id="kubernetes_119">Kubernetes 1.19<a class="headerlink" href="#kubernetes_119" title="Permanent link">&para;</a></h3>
<ul>
<li><code>--feature-gates=GenericEphemeralVolume=true</code> feature gate flags needs to be passed to api-server, scheduler, controller-manager and kubelet to enable Generic Ephemeral Volumes</li>
</ul>
              
            </div>
          </div>

<footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="deployment.html" class="btn btn-neutral float-right" title="Deployment">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../welcome/index.html" class="btn btn-neutral" title="Get started!"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2020 Hewlett Packard Enterprise Development LP<br />Give <a href="https://github.com/hpe-storage/scod/issues/new?title=csi_driver/index.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../welcome/index.html" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="deployment.html" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>

</body>
</html>
